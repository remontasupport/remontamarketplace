generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ContractorProfile {
  id                              String    @id @default(cuid())
  zohoContactId                   String    @unique
  firstName                       String
  lastName                        String
  email                           String    @unique
  phone                           String?
  gender                          String?
  city                            String?
  state                           String?
  postalZipCode                   String?
  latitude                        Float?
  longitude                       Float?
  titleRole                       String?
  yearsOfExperience               Int?
  aboutYou                        String?
  qualificationsAndCertifications String?
  languageSpoken                  String?
  hasVehicleAccess                Boolean?
  funFact                         String?
  hobbiesAndInterests             String?
  whatMakesBusinessUnique         String?
  additionalInformation           String?
  profilePicture                  String?
  lastSyncedAt                    DateTime  @default(now())
  createdAt                       DateTime  @default(now())
  updatedAt                       DateTime  @updatedAt
  deletedAt                       DateTime?

  @@index([email])
  @@index([zohoContactId])
  @@index([deletedAt])
  @@index([city])
  @@index([state])
  @@index([postalZipCode])
  @@index([latitude, longitude])
  @@index([gender])
  @@index([titleRole])
  @@index([deletedAt, city])
  @@index([deletedAt, state])
  @@index([deletedAt, gender])
  @@index([deletedAt, titleRole])
  @@index([deletedAt, latitude, longitude])
}

model ContractorsbyArea {
  id          String   @id
  workerName  String
  suburbState String
  image       String?
  bio         String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime

  @@index([suburbState])
}

model Job {
  id                        String    @id
  zohoId                    String    @unique
  dealName                  String
  title                     String?
  description               String?
  stage                     String
  suburbs                   String?
  state                     String?
  serviceAvailed            String?
  serviceRequirements       String?
  disabilities              String?
  behaviouralConcerns       String?
  culturalConsiderations    String?
  language                  String?
  religion                  String?
  age                       String?
  gender                    String?
  hobbies                   String?
  clientName                String?
  clientZohoId              String?
  relationshipToParticipant String?
  ownerName                 String?
  ownerEmail                String?
  ownerZohoId               String?
  postedAt                  DateTime?
  active                    Boolean   @default(true)
  requiredMoreWorker        Boolean?
  anotherContractorNeeded   Boolean?
  lastSyncedAt              DateTime  @default(now())
  createdAt                 DateTime  @default(now())
  updatedAt                 DateTime

  @@index([active])
  @@index([active, postedAt])
  @@index([active, serviceAvailed])
  @@index([active, stage])
  @@index([active, state])
  @@index([active, suburbs])
  @@index([lastSyncedAt])
  @@index([postedAt])
  @@index([serviceAvailed])
  @@index([stage])
  @@index([state])
  @@index([suburbs])
  @@index([zohoId])
}
