generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ContractorProfile {
  id                            String    @id @default(cuid())
  zohoContactId                 String    @unique

  // Basic Information
  firstName                     String
  lastName                      String
  email                         String    @unique
  phone                         String?
  gender                        String?   // Gender from Zoho

  // Location
  city                          String?
  state                         String?
  postalZipCode                 String?

  // Professional Details
  titleRole                     String?
  yearsOfExperience             Int?
  aboutYou                      String?   // Bio/description about the contractor

  // Qualifications & Skills
  qualificationsAndCertifications String?
  languageSpoken                String?
  hasVehicleAccess              Boolean?

  // Personal Details
  funFact                       String?
  hobbiesAndInterests           String?
  whatMakesBusinessUnique       String?
  additionalInformation         String?

  // Profile Image
  profilePicture                String?   // Vercel Blob URL (from Zoho Record_Image/photo)

  // System Fields
  lastSyncedAt                  DateTime  @default(now())
  createdAt                     DateTime  @default(now())
  updatedAt                     DateTime  @updatedAt
  deletedAt                     DateTime? // Soft delete - null means active, non-null means deleted

  @@index([email])
  @@index([zohoContactId])
  @@index([city])
  @@index([deletedAt]) // Index for filtering deleted records
}
